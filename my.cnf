# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.
[mysql]
default-character-set = utf8mb4
#default-character-set = utf
socket = /data/software/mysql/sockets/mysql.sock

[mysqld]
explicit_defaults_for_timestamp=true
log-error=/data/software/mysql/log/mysqld.err
pid-file=/data/software/mysql/mysql.pid
socket = /data/software/mysql/sockets/mysql.sock
log-slave-updates=1 
skip_slave_start=1
slave_skip_errors=1061,1062,1032
skip-name-resolve
basedir=/data/software/mysql
datadir=/data/software/mysql/data
relay-log = /data/software/mysql/data/slave-relay.log
relay-log-info-file=/data/software/mysql/data/relay-log.info
relay-log-index =/data/software/mysql/data/relay-log.index
skip-external-locking
port=3306
lower_case_table_names=1
character-set-client-handshake = FALSE
character-set-server = utf8mb4
#character-set-server = utf8
#collation-server = utf8_general_ci
collation-server = utf8mb4_bin
#init_connect='SET NAMES utf8mb4'
slow_query_log = 1
slow_query_log_file =/data/software/mysql/data/slow-query.log
long_query_time = 1
log-queries-not-using-indexes
max_connections = 1024
connect_timeout = 60
back_log = 128
wait_timeout = 288000
interactive_timeout = 288000
key_buffer_size=256M
query_cache_size = 256M
query_cache_type=1
query_cache_limit=50M
max_connect_errors=20
sort_buffer_size = 2M
max_allowed_packet= 100M
join_buffer_size=2M
thread_cache_size=200
innodb_buffer_pool_size = 2048M
innodb_flush_log_at_trx_commit = 1
innodb_log_buffer_size=32M
innodb_log_file_size=128M
innodb_log_files_in_group=3
server_id=2
log-bin=mysql-bin
binlog_format = ROW
binlog_cache_size=1024M
#max_binlog_cache_size=100M
#max_binlog_size=512M
max_binlog_size=512M
max_binlog_cache_size = 512M
group_concat_max_len = 51200
expire_logs_days=7
read_buffer_size=1M
read_rnd_buffer_size=16M
bulk_insert_buffer_size=64M
#skip-grant-tables
sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 

[client]
default-character-set = utf8mb4
#default-character-set = utf8
port            = 3306
socket          =/data/software/mysql/sockets/mysql.sock

